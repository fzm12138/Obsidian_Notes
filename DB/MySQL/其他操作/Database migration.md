## 数据迁移
***1. 数据的生命周期***
![[数据生命周期.png]]

- 创建：用户注册(数据从客观世界流入数据库)
- 存储:  数据的生存过程,在复杂系统中会有严格访问控制
- 使用：保证数据安全情况瞎进行数据变更查询
- 共享：用于打通各平台、子系统
- 归档：归档意味着使用频次下降，一般存储在适合长久保存的戒指(有需要也会加密)
- 销毁：生命周期结束(通常只会归档)

***数据迁移的方式多种多样，以下记录为：转储SQL、运行SQL、数据传输、数据同步***

## 数据导出
SQL作为通用的数据库语言可以将db中的结构和数据转为完整的sql语句，会自动生成顺序合理的SQL，选用SQL甚至可以跨库进行

##### 命令方式
- 单表数据导出
	- 如果使用单表数据导出，需要提前配置 secure-file-priv 指定一个导出目录，未配置则无法导出
	- 如果是第一次配置，需要重启mysql服务
``` c
secure-file-priv = /usr/local/SQL
```

```MYSQL
SELECT * FROM `表名` INTO OUTFILE '文件路径';
```

- 可以由mysqldump工具直接导出为SQL文件，这是一个备份工具，支持数据库表和数据库导出操作
```c
# mysqldump -u 用户名 -p 数据库名 数据表名 > '文件路径'
mysqldump -uroot -p teach student > /usr/xxx.sql
```

- 数据库转储
`mysqldump -u 用户名 -p 数据库名 > '文件路径'`

##### 软件方式
navicat等

## 数据导入

##### 命令方式
- 单表数据导入
```c
load data local infile '路径' into table 表名;
```
- SQL导入
如果在进行数据导出时，直接生成了可执行的SQL文件，则可以使用`source`命令执行该文件，这种方式同时适用与单表数据导入与整个数据库导入。
```mysql
source 文件路径;
```

##### 软件方式


## 数据传输与数据同步
- 数据传输
	- 使用数据传输的效果与通过SQL语句进行数据导入类似，一般先删除已存在的相同的表
- 数据同步
	- 需要先指定数据源与目标数据库，区别在于数据同步会先比较两个数据库的差异，用户可以自行决定是否进行同步
		- 主要适用于有相同表结构的数据库以及主从分布等场景




























